<!DOCTYPE html>
<html>
    <head>
        <title>Contact Me</title>
        <link rel="stylesheet" href="styles.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    </head>
    <body>


        <header class="top-bar">
            <button class="dark-mode-toggle">Toggle Dark Mode</button>
            <script src="main.js"></script>

            
            <nav class="navigation">
                <div class="dropdown">
                    <button class="dropbtn">Pages 
                      <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-content">
                      <a href="Home.html">Home</a>
                      <a href="Projects.html">Projects</a>
                      <a href="Contact.html">Contact</a>
                    </div>
                  </div> 
                  </nav>
                  </header>

        

        <div class="contact-details">
            <h2 class="contact-info">Contact Information</h2>
            <h3>Email: <span class="email">jaime.landau19@gmail.com</span></h3>
            <h3>Phone: <span class="phone"></span></h3>
            <h3>Linkedin: <span class="linkedin"></span><a href="/in/jaime-landau-0703a32bb">www.linkedin.com/in/jaime-landau-0703a32bb
            </a></h3>
            <h3>Github: <span class="github"><a href="https://github.com/jaimeland">https://github.com/jaimeland</a></span></h3>
        </div>

        <h2>Contact Form</h2>
        <form id="contact-form" onsubmit="handleSubmit(event)">
            <label for="email-box">Email:</label>
            <input type="text" id="email-box" required>
    
            <label for="subject-box">Subject:</label>
            <input type="text" id="subject-box" required>
    
            <label for="description-box">Description:</label>
            <textarea id="description-box" rows="4" required></textarea>
    
            <div class="error" id="error-message"></div>
    
            <button type="submit">Send Email</button>
        </form>

        <h1>Contact Us</h1>
    <form id="contact-form" method="POST" action="">
        <label for="email-box">Your Email:</label>
        <input type="email" id="email-box" name="user_email" required>

        <label for="subject-box">Subject:</label>
        <input type="text" id="subject-box" name="subject" required>

        <label for="description-box">Message:</label>
        <textarea id="description-box" name="message" required></textarea>

        <button type="submit">Send Email</button>
        <div class="error-message">
            <?php
            if ($_SERVER["REQUEST_METHOD"] == "POST") {
                // Validate inputs
                $email = filter_var(trim($_POST['user_email']), FILTER_SANITIZE_EMAIL);
                $subject = trim($_POST['subject']);
                $message = trim($_POST['message']);

                $error = '';

                if (empty($email) || empty($subject) || empty($message)) {
                    $error = 'Please fill in all required fields.';
                } elseif (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
                    $error = 'Please enter a valid email address.';
                }

                if (empty($error)) {
                    // Send the email
                    $to = "jaime.landau19@gmail.com"; // Your email address
                    $headers = "From: " . $email . "\r\n" .
                               "Reply-To: " . $email . "\r\n" .
                               "X-Mailer: PHP/" . phpversion();

                    $email_subject = "Subject: " . $subject;
                    $email_body = "Message: " . $message . "\n\nFrom: " . $email;

                    if (mail($to, $email_subject, $email_body, $headers)) {
                        echo "<p>Email sent successfully!</p>";
                    } else {
                        echo "<p>Failed to send email. Please try again later.</p>";
                    }
                } else {
                    echo "<p>$error</p>";
                }
            }
            ?>
        </div>
    </form>
    
        

        


        

        

    </body>
   

</html>